<h1 mat-dialog-title class="block-items-gap-1">
	<strong class="fx-90pc-width">Email</strong>
	@if (!ccEnabled && !emailMessage?.cc) {
<button mat-raised-button (click)="ccEnabled=true">CC</button>
}
	@if (!bccEnabled && !emailMessage?.bcc) {
<button mat-raised-button (click)="bccEnabled=true">BCC</button>
}
</h1>
<mat-dialog-content>
	<p> </p>
	<div class="top-margin-half">
		<form class="fx-layout-column">
			<mat-form-field class="fx-full-width">
				<mat-label>To</mat-label>
				<input matInput [(ngModel)]="emailMessage.to" name="to" type="email" />
				@if (emailAddressesDialogService) {
<button mat-icon-button matPrefix (click)="pickToAddresses()">
					<mat-icon>contact_mail</mat-icon>
				</button>
}
			</mat-form-field>
			@if (ccEnabled || emailMessage.cc) {
<mat-form-field class="fx-full-width">
				<mat-label>CC</mat-label>
				<input matInput [(ngModel)]="emailMessage.cc" name="cc" type="email" />
				@if (emailAddressesDialogService) {
<button mat-icon-button matPrefix (click)="pickCcAddresses()">
					<mat-icon>contact_mail</mat-icon>
				</button>
}
			</mat-form-field>
}
			@if (bccEnabled || emailMessage.bcc) {
<mat-form-field class="fx-full-width">
				<mat-label>BCC</mat-label>
				<input matInput [(ngModel)]="emailMessage.bcc" name="bcc" type="email" />
				@if (emailAddressesDialogService) {
<button mat-icon-button matPrefix (click)="pickBccAddresses()">
					<mat-icon>contact_mail</mat-icon>
				</button>
}
			</mat-form-field>
}
			<mat-form-field class="fx-full-width">
				<mat-label i18n>Subject</mat-label>
				<input matInput [(ngModel)]="emailMessage.subject" name="subject" type="text" />
			</mat-form-field>
			@if (!emailMessage?.isHtml) {
<mat-form-field class="fx-full-width">
				<mat-label i18n>Message</mat-label>
				<textarea matInput cdkTextareaAutosize [(ngModel)]="emailMessage.body" name="body" type="text"
					cdkAutosizeMinRows=2 cdkAutosizeMaxRows=6></textarea>
			</mat-form-field>
}
		</form>
	</div>

	@if (emailMessage?.isHtml) {
<angular-editor name="body" [formControl]="noteControl"
		[config]="config"></angular-editor>
}
</mat-dialog-content>
<mat-dialog-actions [align]="actionsAlign">
	<button type="button" mat-raised-button matDialogClose id="cancel">Cancel</button>
	<button type="submit" mat-raised-button (click)="confirm()" id="send" tabindex="1" [disabled]="!emailMessage?.to">
		<mat-icon>send</mat-icon>
		Send
	</button>
</mat-dialog-actions>