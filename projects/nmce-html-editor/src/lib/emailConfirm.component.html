<h1 mat-dialog-title class="fx-column-gap-1">
	<strong class="fx-90pc-width">Email</strong>
	<button *ngIf="!ccEnabled && !emailMessage?.cc" mat-raised-button (click)="ccEnabled=true">CC</button>
	<button *ngIf="!bccEnabled && !emailMessage?.bcc" mat-raised-button (click)="bccEnabled=true">BCC</button>
</h1>
<mat-dialog-content>
	<form class="fx-layout-column">
		<mat-form-field class="fx-full-width">
			<mat-label>To</mat-label>
			<input matInput [(ngModel)]="emailMessage.to" name="to" type="email" />
			<button *ngIf="emailAddressesDialogService" mat-icon-button matPrefix (click)="pickToAddresses()">
				<mat-icon>contact_mail</mat-icon>
			</button>
		</mat-form-field>
		<mat-form-field *ngIf="ccEnabled || emailMessage.cc" class="fx-full-width">
			<mat-label>CC</mat-label>
			<input matInput [(ngModel)]="emailMessage.cc" name="cc" type="email" />
			<button *ngIf="emailAddressesDialogService" mat-icon-button matPrefix (click)="pickCcAddresses()">
				<mat-icon>contact_mail</mat-icon>
			</button>
		</mat-form-field>
		<mat-form-field *ngIf="bccEnabled || emailMessage.bcc" class="fx-full-width">
			<mat-label>BCC</mat-label>
			<input matInput [(ngModel)]="emailMessage.bcc" name="bcc" type="email" />
			<button *ngIf="emailAddressesDialogService" mat-icon-button matPrefix (click)="pickBccAddresses()">
				<mat-icon>contact_mail</mat-icon>
			</button>
		</mat-form-field>
		<mat-form-field class="fx-full-width">
			<mat-label>Subject</mat-label>
			<input matInput [(ngModel)]="emailMessage.subject" name="subject" type="text" />
		</mat-form-field>
		<mat-form-field *ngIf="!emailMessage?.isHtml" class="fx-full-width">
			<mat-label>Message</mat-label>
			<textarea matInput matTextareaAutosize [(ngModel)]="emailMessage.body" name="body" type="text" matAutosizeMinRows=2 matAutosizeMaxRows=6></textarea>
		</mat-form-field>
	</form>
	<angular-editor *ngIf="emailMessage?.isHtml" name="body" [formControl]="noteControl" [config]="config"></angular-editor>
</mat-dialog-content>
<mat-dialog-actions class="fx-column-gap-half fx-align-center-center">
	<button type="submit" mat-raised-button (click)="confirm()" id="send" tabindex="1" [disabled]="!emailMessage?.to">
		<mat-icon>send</mat-icon>
		Send
	</button>
	<button type="button" mat-raised-button matDialogClose id="cancel">Cancel</button>
</mat-dialog-actions>
